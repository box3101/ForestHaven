---
import BaseLayout from "../../layouts/BaseLayout.astro";
import SubLayout from "../../layouts/SubLayout.astro";
import SubBody from "../../layouts/SubBody.astro";

const datph2 = "도시숲 소개";
const location = "둘러보기";
const pageTitle = `홈>${datph2}>${location}`;
const idName = "VirtualTour";

import "../../css/ui.css";

//둘러보기 Tabs
interface VirtualTourTab {
	icon: string;
	label: string;
	value: string;
	active: boolean;
	link: string;
	// content: string;
	content: {
		wrap01: string;
		wrap02: {
			left: string;
			right: string;
		};
	};
}
const virtualTourTabs: VirtualTourTab[] = [
	{
		icon: "../../img/tab_img-01.svg",
		label: "보전의 숲",
		value: "보전의 숲",
		active: true,
		link: "#tabs1",
		content: {
			wrap01: "tabs1의 위쪽 영역 내용",
			wrap02: {
				left: "tabs1의 아래쪽 영역 내용",
				right: "tabs1의 아래쪽 영역 내용",
			},
		},
	},
	{
		icon: "../../img/tab_img-02.svg",
		label: "활력의 숲",
		value: "활력의 숲",
		active: false,
		link: "#tabs2",
		content: {
			wrap01: "tabs2 위쪽 영역 내용",
			wrap02: {
				left: "tabs2 아래쪽 영역 내용",
				right: "tabs2 아래쪽 영역 내용",
			},
		},
	},
	{
		icon: "../../img/tab_img-03.svg",
		label: "소통의 숲",
		value: "소통의 숲",
		active: false,
		link: "#tabs3",
		content: {
			wrap01: "tabs3 위쪽 영역 내용",
			wrap02: {
				left: "tabs3 아래쪽 영역 내용",
				right: "tabs3 아래쪽 영역 내용",
			},
		},
	},
	{
		icon: "../../img/tab_img-04.svg",
		label: "마중의 숲",
		value: "마중의 숲",
		active: false,
		link: "#tabs4",
		content: {
			wrap01: "tabs4 위쪽 영역 내용",
			wrap02: {
				left: "tabs4 아래쪽 영역 내용",
				right: "tabs4 아래쪽 영역 내용",
			},
		},
	},
];
---

<BaseLayout pageTitle={pageTitle}>
	<SubLayout idName={idName} title={location} datph2={datph2}>
		<SubBody title={location}>
			<div class="virtualTour-Tabs">
				<ul>
					{
						virtualTourTabs.map((tab) => (
							<li class={tab.active ? "active" : ""} data-tab={tab.value}>
								<a href={tab.link}>
									<img src={tab.icon} alt="" class="tab-icon" />
									<span>{tab.label}</span>
								</a>
							</li>
						))
					}
				</ul>
			</div>
			<div class="virtualTour-Contents">
				{
					virtualTourTabs.map((tab) => (
						<div class={`content ${tab.active ? "active" : ""}`} data-content={tab.value}>
							<div class="wrap01">{tab.content.wrap01}</div>
							<div class="wrap02">
								<div class="left">{tab.content.wrap02.left}</div>
								<div class="right">{tab.content.wrap02.right}</div>
							</div>
						</div>
					))
				}
			</div>
		</SubBody>
	</SubLayout>
</BaseLayout>

<script>
	const tabs = document.querySelectorAll(".virtualTour-Tabs li");
	const contents = document.querySelectorAll(".virtualTour-Contents .content");

	tabs.forEach((tab) => {
		tab.addEventListener("click", function (e) {
			e.preventDefault();

			const tabValue = this.dataset.tab;

			// 모든 탭과 콘텐츠에서 active 제거
			tabs.forEach((t) => t.classList.remove("active"));
			contents.forEach((c) => c.classList.remove("active"));

			// 클릭된 탭과 해당 콘텐츠에 active 추가
			this.classList.add("active");
			document.querySelector(`[data-content="${tabValue}"]`)?.classList.add("active");
		});
	});
</script>
